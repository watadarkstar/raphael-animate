/*! RaphaelAnimate - v0.0.1 - 2013-07-20
* http://twitter.com/wataweb
* Copyright (c) 2013 Adrian Carolli; Licensed MIT */!function(){jQuery(function(){return $.raphaelAnimate=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this;return $.raphaelAnimate.prototype.defaults={FPS:50,animations:{},debug:!0,key:"animation1",looping:!1},s="",c=50,d={},o=null,m="",g=null,this.settings={},this.$el=$(a),k=function(){var a,b,c,f,h,k,l,n;if(v.setAnimations(v.getSetting("animations")),v.setKey(v.getSetting("key")),b=v.$el,j(d,m)){for(b.data("initialized",!0).addClass("replaced"),c=i(m),c.nFrames=0,n=c.layers,f=k=0,l=n.length;l>k;f=++k)h=n[f],a=$("<div></div>").addClass("dynamic-canvas").appendTo(b),h.container=a,h.paper=Raphael(a[0],a.width(),a.height()),c.nFrames=Math.max(c.nFrames,h.frames.length);return c.playing=!1,c.finished=!1,c.lastFrame=0,c.tick=0,c.looping=o,b.addClass("looping-"+c.looping),c.step_once=e(u,c),c.step=e(t,c),c.play=e(p,c),j(sizes,m)&&(c.set_size=e(q,c),c.sizes=sizes[m],g&&c.set_size(g)),c.step_once(),b.data("ani",c),g="1120",r()}},i=function(a){return d[a]},u=function(){var a,b,c,d,e,f,g,h,i,j,k;for(d=this,j=this.layers,b=f=0,h=j.length;h>f;b=++f)if(c=j[b],c.frames[d.tick])for(c.paper.clear(),k=c.frames[d.tick],g=0,i=k.length;i>g;g++)e=k[g],a=$.extend({"stroke-width":"0",stroke:"none"},null!=e.attrs?e.attrs:e),c.paper.path(e.path).attr(a);return this.tick++,this.tick>this.nFrames-1&&(this.tick=0,this.looping||(this.playing=!1,this.finished=!0)),this.lastFrame=Date.now()},t=function(){var a;return a=Date.now(),a-this.lastFrame>1e3/c&&this.step_once(),this.playing?requestAnimationFrame(this.step):void 0},p=function(){return this.playing=!0,requestAnimationFrame(this.step)},r=function(){var a,b;return a=v.$el,b=a.data("ani"),b&&b.set_size?b.set_size(g):void 0},q=function(a){var b,c,d,e,f,g,h;if(d=this.sizes[a],null!=d){for(g=this.layers,h=[],b=e=0,f=g.length;f>e;b=++e)c=g[b],c.paper.setSize(c.container.width(),c.container.height()),h.push(c.paper.setViewBox(d.x,d.y,this.canvas.width.replace(/px$/,"")*d.m,this.canvas.height.replace(/px$/,"")*d.m,!1));return h}},f=function(){return v.$el.on("mouseover","path",function(a){var b;return b=$(a.currentTarget),b.css({webkitAnimation:"wobblepath 0.3s ease-in-out 0s infinite alternate"})}),v.$el.on("mouseout","path",function(a){var b;return b=$(a.currentTarget),h(300,function(){return b.css({webkitAnimation:"none"})})}),v.$el.click(function(a){var b,c;return b=$(a.currentTarget),c=b.data("ani"),c?c.play():void 0}),$(window).on("statechangecomplete",function(){})},n=function(a){return v.getSetting("debug")?console.log(a):void 0},j=function(a,b){return hasOwnProperty.call(a,b)},l=function(a){return"function"==typeof a},e=function(a,b){var c,d,e,f;if(e=Function.prototype.bind,f=Array.prototype.slice,a.bind===e&&e)return e.apply(a,f.call(arguments,1));if(!l(a))throw new TypeError;return c=f.call(arguments,2),d=function(){var e,g;return this instanceof d?(ctor.prototype=a.prototype,g=new ctor,ctor.prototype=null,e=a.apply(g,c.concat(f.call(arguments))),Object(e)===e?e:g):a.apply(b,c.concat(f.call(arguments)))}},h=function(a,b){return setTimeout(b,a)},this.setFPS=function(a){return c=a},this.setLooping=function(a){return o=a},this.setKey=function(a){return m=a},this.setState=function(a){return s=a},this.setAnimations=function(a){return d=a},this.getFPS=function(){return c},this.getLooping=function(){return o},this.getAnimations=function(){return d},this.getKey=function(){return m},this.getState=function(){return s},this.getSetting=function(a){return this.settings[a]},this.callSettingFunction=function(a,b){return null==b&&(b=[]),this.settings[a].apply(this,b)},this.init=function(){var a;return this.settings=$.extend({},this.defaults,b),this.setLooping(this.getSetting("looping")),this.setFPS(this.getSetting("FPS")),k(),a=this.$el.data("ani"),a&&a.play(),f(),this.setState("ready")},this.init(),this},$.fn.raphaelAnimate=function(a){return this.each(function(){var b;return void 0===$(this).data("raphaelAnimate")?(b=new $.raphaelAnimate(this,a),$(this).data("raphaelAnimate",b)):void 0})}})}.call(this);